<div class="container">
    <div class="row">
        <div class="col-sm-3">
            
            <div class="row">

                <ngbd-datepicker (onChanged)="dateChangeHandler($event)"></ngbd-datepicker>

            </div>

                <div class="row">
                    <form>

                        <ngbd-tabset [timeArr]="timeArr"></ngbd-tabset>
                        <div class="form-row">

                        </div>
                    </form>
                </div>

                <hr />
                <div class="row">
                    <div class="form-group">
                        <label for="name">Имя</label>
                        <select id="name" class="form-control" [(ngModel)]="selectedWorkerId" (change)="changeStaff($event)">
                            <option *ngFor="let w of workers" [value]="w?.id">
                                {{w?.name}}
                            </option>
                        </select>
                    </div>
                    {{selectedWorker?.name}}
                </div>

                <div class="row">
                    <div class="form-group">
                        <label for="desirable_slots">Желаемые часы</label>
                        <multiselect [placeholder]="'Желательные часы'"></multiselect>
                    </div>
                </div>

                <div class="row">
                    <div class="form-group">
                        <label for="unwanted_slots">Нежелательные часы</label>
                        <multiselect [placeholder]="'Нежелательные часы'"></multiselect>

                    </div>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="duty" [(ngModel)]="worker.isDuty" (change)="save()">
                    <label class="form-check-label" for="duty">
                        Дежурный
                    </label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="duty_wedn" [(ngModel)]="worker.isDutyOnWedn"
                           (change)="save()">
                    <label class="form-check-label" for="duty_wedn">
                        Дежурный по средам
                    </label>
                </div>

                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="duty_letter" [(ngModel)]="worker.isDutyOnLetters"
                           (change)="save()">
                    <label class="form-check-label" for="duty_letter">
                        Дежурный по письмам
                    </label>
                </div>

            
        </div>

        <div class="col-sm-9">
            <h1>График дежурств на {{day}}.{{month}} </h1>
            <p> <b>Дежурный: </b>
                <ng-container *ngFor="let w of workers">
                    <div *ngIf="w?.isDuty">
                        {{w?.name}}
                    </div>
                </ng-container>
            </p>
            <p><b>Дежурные на письмах: </b>
               <ng-container *ngFor="let w of workers">
                   <div *ngIf="w?.isDutyOnLetters">
                       {{w?.name}}
                   </div>
               </ng-container>
            </p>
            <p><b>Дежурный в среду: </b>
               <ng-container *ngFor="let w of workers">
                   <div *ngIf="w?.isDutyOnWedn">
                       {{w?.name}}
                   </div>
               </ng-container>
            </p>
            <div class="form-group">
                <button class="btn btn-default" (click)="generateGraph()">Сформировать график</button>
            </div>
            <duty-chart [minSlotsCount]="minSlotsCount" [maxSlotsCount]="maxSlotsCount"></duty-chart>
        </div>

        
    </div>
</div>